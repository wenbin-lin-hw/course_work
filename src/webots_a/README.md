# E-puck机器人遗传算法循迹避障系统

## 📋 项目简介

这是一个使用**遗传算法**训练Webots E-puck机器人在环形赛道上进行**循迹**和**避障**的完整系统。

### 核心功能
- ✅ 使用遗传算法自动学习循迹策略
- ✅ 智能避障（绕过障碍物后自动回到赛道）
- ✅ 模型自动保存和加载
- ✅ 详细的训练日志和统计
- ✅ 测试模式计算完成一圈的时间

### 技术特点
- **神经网络**: 简单的前馈神经网络作为机器人"大脑"
- **遗传算法**: 模拟自然进化优化神经网络权重
- **适应度函数**: 多指标综合评估（距离、速度、循迹准确度、避障能力等）
- **精英选择**: 保留最优个体，加速收敛

---

## 🧬 遗传算法原理详解

### 什么是遗传算法？

遗传算法模拟生物进化过程，通过**选择、交叉、变异**来优化问题的解。

### 在本项目中的应用

#### 1️⃣ **基因编码**

基因 = 神经网络的所有权重和偏置
- 输入层→隐藏层权重: 11×8 = 88个参数
- 隐藏层偏置: 8个参数
- 隐藏层→输出层权重: 8×2 = 16个参数
- 输出层偏置: 2个参数
- **总共: 114个基因**

#### 2️⃣ **适应度评估**（如何判断"好坏"）

适应度函数综合考虑多个指标：

```python
适应度 =
    + 2.0 × 行驶距离          # 走得越远越好
    + 1.0 × 平均速度          # 速度越快越好
    + 3.0 × 循迹准确度        # 跟随黑线越准确越好（最重要！）
    + 2.0 × 避障能力          # 成功避开障碍物
    + 0.5 × 运动平滑度        # 不要左右摇摆
    - 10.0 × 碰撞次数         # 撞到障碍物严重扣分
    - 1.0 × 偏离轨道次数      # 偏离轨道扣分
    + 50.0 × 完成一圈         # 完成一圈有巨大奖励